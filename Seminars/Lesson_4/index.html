<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>lesson4</title>
    <style>
        .carts {

            border: 1px black solid;
        }
    </style>
</head>

<body>
    <div class="contener"></div>
    <script>
        // Задание 1 (тайминг 20 минут)
        // 1. Создайте функцию delayedMessage(message, delay),
        // которая принимает аргументы message (строка) и delay
        // (число). Функция должна выводить заданное сообщение в
        // консоль через указанную задержку.
        // 2. Вызовите функцию delayedMessage() три раза с разными
        // сообщениями и задержками. Например:
        // a. delayedMessage("Сообщение 1", 2000)
        // b. delayedMessage("Сообщение 2", 1000)
        // c. delayedMessage("Сообщение 3", 3000)
        // 3. После вызова всех функций delayedMessage(), добавьте
        // сообщение вида "Конец программы" с помощью
        // console.log().

        function delayedMessage(message, delay) {
            setTimeout(() => {
                console.log(message);
            }, delay);
        }
        // setTimeout( function delayedMessage(message) {
        //     console.log(message);
        // }, delay);

        //   delayedMessage("Сообщение 1", 2000);
        //   delayedMessage("Сообщение 2", 1000);
        //   delayedMessage("Сообщение 3", 3000);
        //   delayedMessage("Конец программы", 4000);

        // У вас есть список задач, которые необходимо выполнить в определенном порядке. Каждая задача должна быть выполнена через определенный промежуток времени, заданный в миллисекундах. Вам необходимо написать функцию, которая принимает список задач и интервал времени, а затем выполняет каждую задачу через определенный промежуток времени.

        //       const tasks = [
        //         { name: "task 1", time: 1000 },
        //         { name: "task 2", time: 2000 },
        //         { name: "task 3", time: 3000 },
        //         { name: "task 4", time: 4000 },
        //         { name: "task 5", time: 5000 },
        //       ];

        //       tasks.forEach(element => {
        //         delayedMessage(element.name, element.time)
        //       });

        //       const tasks = [
        // { name: 'task 1', time: 1000 },
        // { name: 'task 2', time: 2000 },
        // { name: 'task 3', time: 3000 },
        // { name: 'task 4', time: 4000 },
        // { name: 'task 5', time: 5000 }
        // ];

        // function executeTasks(tasks) {
        // tasks.forEach((task, index) => {
        // setTimeout(() => {
        // console.log(task.name);
        // }, task.time);
        // });
        // }

        // executeTasks(tasks);

        // Напишите программу, которая загружает данные с сервера с использованием функции fetch. Ваша задача — использовать предложенный шаблон запроса для получения данных и их обработки.

        // Создайте функцию, которая отправляет запрос к серверу, используя fetch. Адрес сервера для запроса: https://api.randomdatatools.ru/?count=5 .
        // В функции реализуйте обработку промиса, возвращаемого fetch. Используйте метод .then() для обработки ответа сервера.
        // Проверьте свойство response.ok.
        // Добавьте обработку ошибок с помощью метода .catch(). Выведите сообщение об ошибке в консоль, если в процессе выполнения запроса или обработки данных возникли проблемы.

        // function getDataFromServer(url) {
        //     fetch(url)
        //     .then((response) => {
        //         return response.json()
        //     })
        //     .then((data) => {
        //         data.forEach(element => {
        //             console.log(element.id, element.name);
        //         });
        //     })
        //     .catch((err) => {
        //         console.log('error');
        //     });
        // }
        //   getDataFromServer(
        //     "https://jsonplaceholder.typicode.com/users"
        //   );

        fetch("https://jsonplaceholder.typicode.com/users")
            .then((response) => {
                return response.json();
            })
            .then((users) => {

                const contenerEl = document.querySelector(".contener");
                users.forEach((user) => {
                    console.log(user.name);
                    const carts = document.createElement("div");
                    carts.className = "carts";
                    carts.textContent = user.name
                    carts.innerHTML = `
                <div class="cart">
                  <h3 class = 'cart__title'>${user.name}</h3>
                  <p class = 'cart__title'>${user.email}</p>
                </div>
               `;
                    contenerEl.append(carts);
                });
            })
            .catch((error) => {
                console.error("error");
            });



        // Разработайте простой веб-интерфейс для отображения списка пользователей, получаемого с сервера. Вам необходимо отобразить имена пользователей и их email-адреса.
        // Используйте функцию fetch для отправки GET-запроса к https://jsonplaceholder.typicode.com/users . Этот запрос вернет JSON-массив объектов пользователей.
        // В обработчике .then() преобразуйте полученный ответ в JSON.
        // После успешного получения и преобразования ответа в JSON, отобразите на странице список пользователей. Для каждого пользователя покажите его имя и email. Для отображения можно использовать любой HTML-элемент, например, ul для списка и li для элементов списка.
        // Добавьте базовую обработку ошибок, чтобы в случае неудачного запроса на странице отображалось сообщение об ошибке.

        fetch("https://jsonplaceholder.typicode.com/users")
            .then((response) => {
                return response.json();
            })
            .then((users) => {

                const contenerEl = document.querySelector(".contener");
                users.forEach((user) => {
                    console.log(user.name);
                    const carts = document.createElement("div");
                    carts.className = "carts";
                    carts.textContent = user.name
                    carts.innerHTML = `
                <div class="cart">
                  <h3 class = 'cart__title'>${user.name}</h3>
                  <p class = 'cart__title'>${user.email}</p>
                </div>
               `;
                    contenerEl.append(carts);
                });
            })
            .catch((error) => {
                console.error("error");
            });

        fetch("https://jsonplaceholder.typicode.com/users")
            .then((response) => {
                return response.json();
            })
            .then((users) => {

                const contenerEl = document.querySelector(".contener");
                users.forEach((user) => {
                    console.log(user.name);
                    const carts = document.createElement("div");
                    carts.className = "carts";
                    carts.textContent = user.name
                    carts.innerHTML = `
                <div class="cart">
                  <h3 class = 'cart__title'>${user.name}</h3>
                  <p class = 'cart__title'>${user.email}</p>
                </div>
               `;
                    contenerEl.append(carts);
                });
            })
            .catch((error) => {
                console.error("error");
            });
    </script>
</body>

</html>